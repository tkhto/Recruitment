{"remainingRequest":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/babel-loader/lib/index.js!/Users/maguodong/Documents/projects/luffycity/web im/node_modules/eslint-loader/index.js??ref--13-0!/Users/maguodong/Documents/projects/luffycity/web im/src/store/modules/group.js","dependencies":[{"path":"/Users/maguodong/Documents/projects/luffycity/web im/src/store/modules/group.js","mtime":1576188392000},{"path":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport _toConsumableArray from \"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport tim from 'tim';\nvar groupModules = {\n  state: {\n    groupList: [],\n    currentMemberList: [],\n    createGroupModelVisible: false\n  },\n  getters: {\n    hasGroupList: function hasGroupList(state) {\n      return state.groupList.length > 0;\n    }\n  },\n  mutations: {\n    updateGroupList: function updateGroupList(state, groupList) {\n      state.groupList = groupList;\n    },\n    updateCreateGroupModelVisible: function updateCreateGroupModelVisible(state, visible) {\n      state.createGroupModelVisible = visible;\n    },\n    updateCurrentMemberList: function updateCurrentMemberList(state, memberList) {\n      state.currentMemberList = [].concat(_toConsumableArray(state.currentMemberList), _toConsumableArray(memberList));\n    },\n    deleteGroupMemeber: function deleteGroupMemeber(state, userID) {\n      state.currentMemberList = state.currentMemberList.filter(function (member) {\n        return member.userID !== userID;\n      });\n    },\n    deleteGroupMemberList: function deleteGroupMemberList(state, userIDList) {\n      state.currentMemberList = state.currentMemberList.filter(function (member) {\n        return !userIDList.includes(member.userID);\n      });\n    },\n    resetCurrentMemberList: function resetCurrentMemberList(state) {\n      state.currentMemberList = [];\n    },\n    reset: function reset(state) {\n      Object.assign(state, {\n        groupList: [],\n        currentMemberList: [],\n        createGroupModelVisible: false\n      });\n    }\n  },\n  actions: {\n    updateGroupList: function updateGroupList(context, groupList) {\n      context.commit('updateGroupList', groupList);\n    },\n    getGroupMemberList: function getGroupMemberList(context, groupID) {\n      return tim.getGroupMemberList({\n        groupID: groupID,\n        offset: context.state.currentMemberList.length,\n        count: 30\n      }).then(function (imResponse) {\n        context.commit('updateCurrentMemberList', imResponse.data.memberList);\n        return imResponse;\n      });\n    }\n  }\n};\nexport default groupModules;",{"version":3,"sources":["/Users/maguodong/Documents/projects/luffycity/web im/src/store/modules/group.js"],"names":["tim","groupModules","state","groupList","currentMemberList","createGroupModelVisible","getters","hasGroupList","length","mutations","updateGroupList","updateCreateGroupModelVisible","visible","updateCurrentMemberList","memberList","deleteGroupMemeber","userID","filter","member","deleteGroupMemberList","userIDList","includes","resetCurrentMemberList","reset","Object","assign","actions","context","commit","getGroupMemberList","groupID","offset","count","then","imResponse","data"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AAEA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAE,EADN;AAELC,IAAAA,iBAAiB,EAAE,EAFd;AAGLC,IAAAA,uBAAuB,EAAE;AAHpB,GADY;AAMnBC,EAAAA,OAAO,EAAE;AACPC,IAAAA,YAAY,EAAE,sBAAAL,KAAK;AAAA,aAAIA,KAAK,CAACC,SAAN,CAAgBK,MAAhB,GAAyB,CAA7B;AAAA;AADZ,GANU;AASnBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,eADS,2BACOR,KADP,EACcC,SADd,EACyB;AAChCD,MAAAA,KAAK,CAACC,SAAN,GAAkBA,SAAlB;AACD,KAHQ;AAITQ,IAAAA,6BAJS,yCAIqBT,KAJrB,EAI4BU,OAJ5B,EAIqC;AAC5CV,MAAAA,KAAK,CAACG,uBAAN,GAAgCO,OAAhC;AACD,KANQ;AAOTC,IAAAA,uBAPS,mCAOeX,KAPf,EAOsBY,UAPtB,EAOkC;AACzCZ,MAAAA,KAAK,CAACE,iBAAN,gCAA8BF,KAAK,CAACE,iBAApC,sBAA0DU,UAA1D;AACD,KATQ;AAUTC,IAAAA,kBAVS,8BAUUb,KAVV,EAUiBc,MAVjB,EAUyB;AAChCd,MAAAA,KAAK,CAACE,iBAAN,GAA0BF,KAAK,CAACE,iBAAN,CAAwBa,MAAxB,CAA+B,UAACC,MAAD;AAAA,eAAYA,MAAM,CAACF,MAAP,KAAkBA,MAA9B;AAAA,OAA/B,CAA1B;AACD,KAZQ;AAaTG,IAAAA,qBAbS,iCAaajB,KAbb,EAaoBkB,UAbpB,EAagC;AACvClB,MAAAA,KAAK,CAACE,iBAAN,GAA0BF,KAAK,CAACE,iBAAN,CAAwBa,MAAxB,CAA+B,UAACC,MAAD;AAAA,eAAY,CAACE,UAAU,CAACC,QAAX,CAAoBH,MAAM,CAACF,MAA3B,CAAb;AAAA,OAA/B,CAA1B;AACD,KAfQ;AAgBTM,IAAAA,sBAhBS,kCAgBcpB,KAhBd,EAgBqB;AAC5BA,MAAAA,KAAK,CAACE,iBAAN,GAA0B,EAA1B;AACD,KAlBQ;AAmBTmB,IAAAA,KAnBS,iBAmBHrB,KAnBG,EAmBI;AACXsB,MAAAA,MAAM,CAACC,MAAP,CAAcvB,KAAd,EAAqB;AACnBC,QAAAA,SAAS,EAAE,EADQ;AAEnBC,QAAAA,iBAAiB,EAAE,EAFA;AAGnBC,QAAAA,uBAAuB,EAAE;AAHN,OAArB;AAKD;AAzBQ,GATQ;AAoCnBqB,EAAAA,OAAO,EAAE;AACPhB,IAAAA,eADO,2BACSiB,OADT,EACkBxB,SADlB,EAC6B;AAClCwB,MAAAA,OAAO,CAACC,MAAR,CAAe,iBAAf,EAAkCzB,SAAlC;AACD,KAHM;AAIP0B,IAAAA,kBAJO,8BAIYF,OAJZ,EAIqBG,OAJrB,EAI8B;AACnC,aAAO9B,GAAG,CAAC6B,kBAAJ,CAAuB;AAC5BC,QAAAA,OAAO,EAAEA,OADmB;AAE5BC,QAAAA,MAAM,EAAEJ,OAAO,CAACzB,KAAR,CAAcE,iBAAd,CAAgCI,MAFZ;AAG5BwB,QAAAA,KAAK,EAAE;AAHqB,OAAvB,EAIJC,IAJI,CAIC,UAACC,UAAD,EAAgB;AACtBP,QAAAA,OAAO,CAACC,MAAR,CAAe,yBAAf,EAA0CM,UAAU,CAACC,IAAX,CAAgBrB,UAA1D;AACA,eAAOoB,UAAP;AACD,OAPM,CAAP;AAQD;AAbM;AApCU,CAArB;AAqDA,eAAejC,YAAf","sourcesContent":["import tim from 'tim'\n\nconst groupModules = {\n  state: {\n    groupList: [],\n    currentMemberList: [],\n    createGroupModelVisible: false\n  },\n  getters: {\n    hasGroupList: state => state.groupList.length > 0\n  },\n  mutations: {\n    updateGroupList(state, groupList) {\n      state.groupList = groupList\n    },\n    updateCreateGroupModelVisible(state, visible) {\n      state.createGroupModelVisible = visible\n    },\n    updateCurrentMemberList(state, memberList) {\n      state.currentMemberList = [...state.currentMemberList, ...memberList]\n    },\n    deleteGroupMemeber(state, userID) {\n      state.currentMemberList = state.currentMemberList.filter((member) => member.userID !== userID)\n    },\n    deleteGroupMemberList(state, userIDList) {\n      state.currentMemberList = state.currentMemberList.filter((member) => !userIDList.includes(member.userID))\n    },\n    resetCurrentMemberList(state) {\n      state.currentMemberList = []\n    },\n    reset(state) {\n      Object.assign(state, {\n        groupList: [],\n        currentMemberList: [],\n        createGroupModelVisible: false\n      })\n    }\n  },\n  actions: {\n    updateGroupList(context, groupList) {\n      context.commit('updateGroupList', groupList)\n    },\n    getGroupMemberList(context, groupID) {\n      return tim.getGroupMemberList({\n        groupID: groupID,\n        offset: context.state.currentMemberList.length,\n        count: 30\n      }).then((imResponse) => {\n        context.commit('updateCurrentMemberList', imResponse.data.memberList)\n        return imResponse\n      })\n    }\n  }\n}\n\nexport default groupModules\n"]}]}