{"remainingRequest":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/babel-loader/lib/index.js!/Users/maguodong/Documents/projects/luffycity/web im/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/maguodong/Documents/projects/luffycity/web im/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maguodong/Documents/projects/luffycity/web im/src/components/message/message-elements/group-system-notice-element.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/maguodong/Documents/projects/luffycity/web im/src/components/message/message-elements/group-system-notice-element.vue","mtime":1576188392000},{"path":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Radio2 from \"element-ui/lib/theme-chalk/radio.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Radio from \"element-ui/lib/radio\";\nimport _RadioGroup2 from \"element-ui/lib/theme-chalk/radio-group.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _RadioGroup from \"element-ui/lib/radio-group\";\nimport _FormItem2 from \"element-ui/lib/theme-chalk/form-item.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _FormItem from \"element-ui/lib/form-item\";\nimport _Form2 from \"element-ui/lib/theme-chalk/form.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Form from \"element-ui/lib/form\";\nimport _Dialog2 from \"element-ui/lib/theme-chalk/dialog.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Dialog from \"element-ui/lib/dialog\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport MessageBubble from \"../message-bubble\";\nimport { translateGroupSystemNotice } from \"../../../utils/common\";\nexport default {\n  name: 'GroupSystemNoticeElement',\n  props: {\n    payload: {\n      type: Object,\n      required: true\n    },\n    message: {\n      type: Object,\n      required: false\n    }\n  },\n  components: {\n    ElDialog: _Dialog,\n    ElForm: _Form,\n    ElFormItem: _FormItem,\n    ElRadioGroup: _RadioGroup,\n    ElRadio: _Radio,\n    MessageBubble: MessageBubble\n  },\n  data: function data() {\n    return {\n      showDialog: false,\n      form: {\n        handleAction: 'Agree',\n        handleMessage: ''\n      }\n    };\n  },\n  computed: {\n    text: function text() {\n      return translateGroupSystemNotice(this.message);\n    },\n    title: function title() {\n      if (this.message.type === this.TIM.TYPES.MSG_GRP_SYS_NOTICE) {\n        return '群系统通知';\n      }\n\n      return '系统通知';\n    },\n    isJoinGroupRequest: function isJoinGroupRequest() {\n      return this.payload.operationType === 1;\n    }\n  },\n  methods: {\n    handleGroupApplication: function handleGroupApplication() {\n      var _this = this;\n\n      this.tim.handleGroupApplication({\n        handleAction: this.form.handleAction,\n        handleMessage: this.form.handleMessage,\n        message: this.message\n      }).then(function () {\n        _this.showDialog = false;\n\n        _this.$store.commit('removeMessage', _this.message);\n      }).catch(function (error) {\n        _this.$store.commit('showMessage', {\n          type: 'error',\n          message: error.message\n        });\n\n        _this.showDialog = false;\n      });\n    }\n  }\n};",{"version":3,"sources":["group-system-notice-element.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,OAAA,aAAA;AACA,SAAA,0BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,0BADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AALA,GAFA;AAYA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,SADA;AAEA,IAAA,MAAA,OAFA;AAGA,IAAA,UAAA,WAHA;AAIA,IAAA,YAAA,aAJA;AAKA,IAAA,OAAA,QALA;AAMA,IAAA,aAAA,EAAA;AANA,GAZA;AAoBA,EAAA,IApBA,kBAoBA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,YAAA,EAAA,OADA;AAEA,QAAA,aAAA,EAAA;AAFA;AAFA,KAAA;AAOA,GA5BA;AA6BA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,0BAAA,CAAA,KAAA,OAAA,CAAA;AACA,KAHA;AAIA,IAAA,KAJA,mBAIA;AACA,UAAA,KAAA,OAAA,CAAA,IAAA,KAAA,KAAA,GAAA,CAAA,KAAA,CAAA,kBAAA,EAAA;AACA,eAAA,OAAA;AACA;;AACA,aAAA,MAAA;AACA,KATA;AAUA,IAAA,kBAVA,gCAUA;AACA,aAAA,KAAA,OAAA,CAAA,aAAA,KAAA,CAAA;AACA;AAZA,GA7BA;AA2CA,EAAA,OAAA,EAAA;AACA,IAAA,sBADA,oCACA;AAAA;;AACA,WAAA,GAAA,CACA,sBADA,CACA;AACA,QAAA,YAAA,EAAA,KAAA,IAAA,CAAA,YADA;AAEA,QAAA,aAAA,EAAA,KAAA,IAAA,CAAA,aAFA;AAGA,QAAA,OAAA,EAAA,KAAA;AAHA,OADA,EAMA,IANA,CAMA,YAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,KAAA;;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,eAAA,EAAA,KAAA,CAAA,OAAA;AACA,OATA,EAUA,KAVA,CAUA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA;AACA,UAAA,IAAA,EAAA,OADA;AAEA,UAAA,OAAA,EAAA,KAAA,CAAA;AAFA,SAAA;;AAIA,QAAA,KAAA,CAAA,UAAA,GAAA,KAAA;AACA,OAhBA;AAiBA;AAnBA;AA3CA,CAAA","sourcesContent":["<template>\n  <message-bubble :isMine=\"false\">\n    <div class=\"group-system-element-wrapper\">\n      {{ text }}\n      <el-button v-if=\"isJoinGroupRequest\" type=\"text\" @click=\"showDialog = true\">处理</el-button>\n      <el-dialog title=\"处理加群申请\" :visible.sync=\"showDialog\" width=\"30%\">\n        <el-form ref=\"form\" v-model=\"form\" label-width=\"100px\">\n          <el-form-item label=\"处理结果：\">\n            <el-radio-group v-model=\"form.handleAction\">\n              <el-radio label=\"Agree\">同意</el-radio>\n              <el-radio label=\"Reject\">拒绝</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"附言：\">\n            <el-input\n              type=\"textarea\"\n              resize=\"none\"\n              :rows=\"3\"\n              placeholder=\"请输入附言\"\n              v-model=\"form.handleMessage\"\n            />\n          </el-form-item>\n        </el-form>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"showDialog = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"handleGroupApplication\">确 定</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  </message-bubble>\n</template>\n\n<script>\nimport { Dialog, Form, FormItem, RadioGroup, Radio } from 'element-ui'\nimport MessageBubble from '../message-bubble'\nimport { translateGroupSystemNotice } from '../../../utils/common'\n\nexport default {\n  name: 'GroupSystemNoticeElement',\n  props: {\n    payload: {\n      type: Object,\n      required: true\n    },\n    message: {\n      type: Object,\n      required: false\n    }\n  },\n  components: {\n    ElDialog: Dialog,\n    ElForm: Form,\n    ElFormItem: FormItem,\n    ElRadioGroup: RadioGroup,\n    ElRadio: Radio,\n    MessageBubble\n  },\n  data() {\n    return {\n      showDialog: false,\n      form: {\n        handleAction: 'Agree',\n        handleMessage: ''\n      }\n    }\n  },\n  computed: {\n    text() {\n      return translateGroupSystemNotice(this.message)\n    },\n    title() {\n      if (this.message.type === this.TIM.TYPES.MSG_GRP_SYS_NOTICE) {\n        return '群系统通知'\n      }\n      return '系统通知'\n    },\n    isJoinGroupRequest() {\n      return this.payload.operationType === 1\n    }\n  },\n  methods: {\n    handleGroupApplication() {\n      this.tim\n        .handleGroupApplication({\n          handleAction: this.form.handleAction,\n          handleMessage: this.form.handleMessage,\n          message: this.message\n        })\n        .then(() => {\n          this.showDialog = false\n          this.$store.commit('removeMessage', this.message)\n        })\n        .catch(error => {\n          this.$store.commit('showMessage', {\n            type: 'error',\n            message: error.message\n          })\n          this.showDialog = false\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.card {\n  background: #fff;\n  padding: 12px;\n  border-radius: 5px;\n  width: 300px;\n\n  .card-header {\n    font-size: 18px;\n  }\n\n  .card-content {\n    font-size: 14px;\n  }\n}\n</style>\n"],"sourceRoot":"src/components/message/message-elements"}]}