{"remainingRequest":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maguodong/Documents/projects/luffycity/web im/src/components/conversation/conversationProfile/user-profile.vue?vue&type=style&index=0&id=809108c8&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/maguodong/Documents/projects/luffycity/web im/src/components/conversation/conversationProfile/user-profile.vue","mtime":1576188392000},{"path":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maguodong/Documents/projects/luffycity/web im/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.profile-user\n  width 100%\n  text-align center\n  padding 0 20px\n  .avatar\n    width 160px\n    height 160px\n    border-radius 50%\n    margin 30px auto\n  .nick-name\n    width 100%\n    color $base\n    font-size 20px\n    font-weight bold\n    text-shadow $font-dark 0 0 0.1em\n    .anonymous\n      color $first\n      text-shadow none\n  .gender\n    padding 5px 0 10px 0\n    border-bottom 1px solid $border-base\n  .btn-add-blacklist\n    color $danger\n",{"version":3,"sources":["user-profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user-profile.vue","sourceRoot":"src/components/conversation/conversationProfile","sourcesContent":["<template>\n  <div class=\"profile-user\">\n    <avatar :title=userProfile.userID :src=\"userProfile.avatar\" />\n    <div class=\"nick-name text-ellipsis\">\n      <span v-if=\"userProfile.nick\" :title=userProfile.nick>\n        {{ userProfile.nick }}\n      </span>\n      <span v-else class=\"anonymous\" title=\"该用户未设置昵称\">\n        [Anonymous]\n      </span>\n    </div>\n    <div class=\"gender\" v-if=\"genderClass\">\n      <span :title=\"gender\" class=\"iconfont\" :class=\"genderClass\"></span>\n    </div>\n    <el-button\n      title=\"将该用户加入黑名单\"\n      type=\"text\"\n      @click=\"addToBlackList\"\n      v-if=\"!isInBlacklist && userProfile.userID !== myUserID\"\n      class=\"btn-add-blacklist\"\n      >加入黑名单</el-button\n    >\n    <el-button title=\"将该用户移出黑名单\" type=\"text\" @click=\"removeFromBlacklist\" v-else-if=\"isInBlacklist\">移出黑名单</el-button>\n    <!-- 拉黑 和 反拉黑 -->\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nexport default {\n  props: {\n    userProfile: {\n      type: Object,\n      required: true\n    }\n  },\n  computed: {\n    ...mapState({\n      blacklist: state => state.blacklist.blacklist,\n      myUserID: state => state.user.currentUserProfile.userID\n    }),\n    isInBlacklist() {\n      return this.blacklist.findIndex(item => item.userID === this.userProfile.userID) >= 0\n    },\n    gender() {\n      switch (this.userProfile.gender) {\n        case this.TIM.TYPES.GENDER_MALE:\n          return '男'\n        case this.TIM.TYPES.GENDER_FEMALE:\n          return '女'\n        default:\n          return '未设置'\n      }\n    },\n    genderClass() {\n      switch (this.userProfile.gender) {\n        case this.TIM.TYPES.GENDER_MALE:\n          return 'icon-male'\n        case this.TIM.TYPES.GENDER_FEMALE:\n          return 'icon-female'\n        default:\n          return ''\n      }\n    }\n  },\n  methods: {\n    addToBlackList() {\n      this.tim\n        .addToBlacklist({ userIDList: [this.userProfile.userID] })\n        .then(() => {\n          this.$store.dispatch('getBlacklist')\n        })\n        .catch(imError => {\n          this.$store.commit('showMessage', {\n            message: imError.message,\n            type: 'error'\n          })\n        })\n    },\n    removeFromBlacklist() {\n      this.tim.removeFromBlacklist({ userIDList: [this.userProfile.userID] }).then(() => {\n        this.$store.commit('removeFromBlacklist', this.userProfile.userID)\n      })\n      .catch(error => {\n          this.$store.commit('showMessage', {\n            type: 'error',\n            message: error.message\n          })\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.profile-user\n  width 100%\n  text-align center\n  padding 0 20px\n  .avatar\n    width 160px\n    height 160px\n    border-radius 50%\n    margin 30px auto\n  .nick-name\n    width 100%\n    color $base\n    font-size 20px\n    font-weight bold\n    text-shadow $font-dark 0 0 0.1em\n    .anonymous\n      color $first\n      text-shadow none\n  .gender\n    padding 5px 0 10px 0\n    border-bottom 1px solid $border-base\n  .btn-add-blacklist\n    color $danger\n</style>\n"]}]}